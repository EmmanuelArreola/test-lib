const helpers = require('../../utils/helpers');
const fs = require('fs');
const path = require('path');

describe('suite to test helpers library utils', function () {

    const required = {
        elementDelimiter: '*',
        endOfLine: '\n'
    };
    const optional = {
        format: true,
        segmentTerminator: '~'
    };

    const object = {};
    const json_1 = fs.readFileSync(path.join(__dirname, 'json.json'));
    const json_2 = fs.readFileSync(path.join(__dirname, 'json.json'), 'ascii');
    const json_3 = fs.readFileSync(path.join(__dirname, 'json.json'), 'base64url');
    const json_4 = fs.readFileSync(path.join(__dirname, 'json.json'), 'base64');
    const json_5 = fs.readFileSync(path.join(__dirname, 'json.json'), 'binary');
    const json_6 = fs.readFileSync(path.join(__dirname, 'json.json'), 'latin1');
    const json_7 = fs.readFileSync(path.join(__dirname, 'json.json'), 'hex');
    const json_8 = fs.readFileSync(path.join(__dirname, 'json.json'), 'ucs2');
    const json_9 = fs.readFileSync(path.join(__dirname, 'json.json'), 'ucs-2');
    const json_10 = fs.readFileSync(path.join(__dirname, 'json.json'), 'utf16le');
    const json_11 = fs.readFileSync(path.join(__dirname, 'json.json'), 'utf8');
    const json_12 = fs.readFileSync(path.join(__dirname, 'json.json'), 'utf-8');
    const array_base = fs.readFileSync(path.join(__dirname, 'array.json'), 'base64');

    const array = [
        {
            color: "red",
            value: "#f00"
        },
        {
            color: "green",
            value: "#0f0"
        },
        {
            color: "blue",
            value: "#00f"
        },
        {
            color: "cyan",
            value: "#0ff"
        },
        {
            color: "magenta",
            value: "#f0f"
        },
        {
            color: "yellow",
            value: "#ff0"
        },
        {
            color: "black",
            value: "#000"
        }
    ];

    const array_empty = [];

    const data_array = [
        "Atelier graphique",
        "Schmitt",
        "Carine ",
        "40.32.2555",
        "54, rue Royale",
        null,
        "Nantes",
        null,
        "44000",
        "France",
        1370,
        21000.00
    ];

    const stringJson = "[[\"Ateliergraphique\",\"Schmitt\",\"Carine\",\"40.32.2555\",\"54,rueRoyale\",null,\"Nantes\",null,\"44000\",\"France\",1370,21000.00],[\"SignalGiftStores\",\"King\",\"Jean\",\"7025551838\",\"8489StrongSt.\",null,\"LasVegas\",\"NV\",\"83030\",\"USA\",1166,71800.00],[\"AustralianCollectors,Co.\",\"Ferguson\",\"Peter\",\"0395204555\",\"636StKildaRoad\",\"Level3\",\"Melbourne\",\"Victoria\",\"3004\",\"Australia\",1611,117300.00],[\"LaRochelleGifts\",\"Labrune\",\"Janine\",\"40.67.8555\",\"67,ruedesCinquanteOtages\",null,\"Nantes\",null,\"44000\",\"France\",1370,118200.00],[\"BaaneMiniImports\",\"Bergulfsen\",\"Jonas\",\"07-989555\",\"ErlingSkakkesgate78\",null,\"Stavern\",null,\"4110\",\"Norway\",1504,81700.00],[\"MiniGiftsDistributorsLtd.\",\"Nelson\",\"Susan\",\"4155551450\",\"5677StrongSt.\",null,\"SanRafael\",\"CA\",\"97562\",\"USA\",1165,210500.00],[\"Havel&ZbyszekCo\",\"Piestrzeniewicz\",\"Zbyszek\",\"(26)642-7555\",\"ul.Filtrowa68\",null,\"Warszawa\",null,\"01-012\",\"Poland\",null,0.00],[\"BlauerSeeAuto,Co.\",\"Keitel\",\"Roland\",\"+496966902555\",\"Lyonerstr.34\",null,\"Frankfurt\",null,\"60528\",\"Germany\",1504,59700.00],[\"MiniWheelsCo.\",\"Murphy\",\"Julie\",\"6505555787\",\"5557NorthPendaleStreet\",null,\"SanFrancisco\",\"CA\",\"94217\",\"USA\",1165,64600.00],[\"LandofToysInc.\",\"Lee\",\"Kwai\",\"2125557818\",\"897LongAirportAvenue\",null,\"NYC\",\"NY\",\"10022\",\"USA\",1323,114900.00],[\"Euro+ShoppingChannel\",\"Freyre\",\"Diego\",\"(91)5559444\",\"C/Moralzarzal,86\",null,\"Madrid\",null,\"28034\",\"Spain\",1370,227600.00],[\"VolvoModelReplicas,Co\",\"Berglund\",\"Christina\",\"0921-123555\",\"Berguvsvägen8\",null,\"Luleå\",null,\"S-95822\",\"Sweden\",1504,53100.00],[\"DanishWholesaleImports\",\"Petersen\",\"Jytte\",\"31123555\",\"Vinbæltet34\",null,\"Kobenhavn\",null,\"1734\",\"Denmark\",1401,83400.00],[\"Saveley&Henriot,Co.\",\"Saveley\",\"Mary\",\"78.32.5555\",\"2,rueduCommerce\",null,\"Lyon\",null,\"69004\",\"France\",1337,123900.00],[\"DragonSouveniers,Ltd.\",\"Natividad\",\"Eric\",\"+652217555\",\"BronzSok.\",\"BronzApt.3/6Tesvikiye\",\"Singapore\",null,\"079903\",\"Singapore\",1621,103800.00],[\"MuscleMachineInc\",\"Young\",\"Jeff\",\"2125557413\",\"4092FurthCircle\",\"Suite400\",\"NYC\",\"NY\",\"10022\",\"USA\",1286,138500.00],[\"DiecastClassicsInc.\",\"Leong\",\"Kelvin\",\"2155551555\",\"7586PomptonSt.\",null,\"Allentown\",\"PA\",\"70267\",\"USA\",1216,100600.00],[\"TechnicsStoresInc.\",\"Hashimoto\",\"Juri\",\"6505556809\",\"9408FurthCircle\",null,\"Burlingame\",\"CA\",\"94217\",\"USA\",1165,84600.00],[\"HandjiGifts&Co\",\"Victorino\",\"Wendy\",\"+652241555\",\"106LindenRoadSandown\",\"2ndFloor\",\"Singapore\",null,\"069045\",\"Singapore\",1612,97900.00],[\"HerkkuGifts\",\"Oeztan\",\"Veysel\",\"+4722673215\",\"BrehmenSt.121\",\"PR334Sentrum\",\"Bergen\",null,\"N5804\",\"Norway\",1504,96800.00],[\"AmericanSouvenirsInc\",\"Franco\",\"Keith\",\"2035557845\",\"149SpinnakerDr.\",\"Suite101\",\"NewHaven\",\"CT\",\"97823\",\"USA\",1286,0.00],[\"PortoImportsCo.\",\"deCastro\",\"Isabel\",\"(1)356-5555\",\"Estradadasaúden.58\",null,\"Lisboa\",null,\"1756\",\"Portugal\",null,0.00],[\"DaedalusDesignsImports\",\"Rancé\",\"Martine\",\"20.16.1555\",\"184,chausséedeTournai\",null,\"Lille\",null,\"59000\",\"France\",1370,82900.00],[\"LaCorneD'abondance,Co.\",\"Bertrand\",\"Marie\",\"(1)42.34.2555\",\"265,boulevardCharonne\",null,\"Paris\",null,\"75012\",\"France\",1337,84300.00],[\"CambridgeCollectablesCo.\",\"Tseng\",\"Jerry\",\"6175555555\",\"4658BadenAv.\",null,\"Cambridge\",\"MA\",\"51247\",\"USA\",1188,43400.00],[\"GiftDepotInc.\",\"King\",\"Julie\",\"2035552570\",\"25593SouthBayLn.\",null,\"Bridgewater\",\"CT\",\"97562\",\"USA\",1323,84300.00],[\"OsakaSouveniersCo.\",\"Kentary\",\"Mory\",\"+810663425555\",\"1-6-20Dojima\",null,\"Kita-ku\",\"Osaka\",\"530-0003\",\"Japan\",1621,81200.00],[\"VitachromeInc.\",\"Frick\",\"Michael\",\"2125551500\",\"2678KingstonRd.\",\"Suite101\",\"NYC\",\"NY\",\"10022\",\"USA\",1286,76400.00],[\"ToysofFinland,Co.\",\"Karttunen\",\"Matti\",\"90-2248555\",\"Keskuskatu45\",null,\"Helsinki\",null,\"21240\",\"Finland\",1501,96500.00],[\"AVStores,Co.\",\"Ashworth\",\"Rachel\",\"(171)555-1555\",\"FauntleroyCircus\",null,\"Manchester\",null,\"EC25NT\",\"UK\",1501,136800.00],[\"CloverCollections,Co.\",\"Cassidy\",\"Dean\",\"+35318621555\",\"25MaidenLane\",\"FloorNo.4\",\"Dublin\",null,\"2\",\"Ireland\",1504,69400.00],[\"Auto-MotoClassicsInc.\",\"Taylor\",\"Leslie\",\"6175558428\",\"16780PomptonSt.\",null,\"Brickhaven\",\"MA\",\"58339\",\"USA\",1216,23000.00],[\"UKCollectables,Ltd.\",\"Devon\",\"Elizabeth\",\"(171)555-2282\",\"12,BerkeleyGardensBlvd\",null,\"Liverpool\",null,\"WX16LT\",\"UK\",1501,92700.00],[\"CanadianGiftExchangeNetwork\",\"Tamuri\",\"Yoshi\",\"(604)555-3392\",\"1900OakSt.\",null,\"Vancouver\",\"BC\",\"V3F2K1\",\"Canada\",1323,90300.00],[\"OnlineMiniCollectables\",\"Barajas\",\"Miguel\",\"6175557555\",\"7635SpinnakerDr.\",null,\"Brickhaven\",\"MA\",\"58339\",\"USA\",1188,68700.00],[\"Toys4GrownUps.com\",\"Young\",\"Julie\",\"6265557265\",\"78934HillsideDr.\",null,\"Pasadena\",\"CA\",\"90003\",\"USA\",1166,90700.00],[\"AsianShoppingNetwork,Co\",\"Walker\",\"Brydey\",\"+61294111555\",\"SuntecTowerThree\",\"8Temasek\",\"Singapore\",null,\"038988\",\"Singapore\",null,0.00],[\"MiniCaravy\",\"Citeaux\",\"Frédérique\",\"88.60.1555\",\"24,placeKléber\",null,\"Strasbourg\",null,\"67000\",\"France\",1370,53800.00],[\"KingKongCollectables,Co.\",\"Gao\",\"Mike\",\"+85222511555\",\"BankofChinaTower\",\"1GardenRoad\",\"CentralHongKong\",null,null,\"HongKong\",1621,58600.00],[\"EnacoDistributors\",\"Saavedra\",\"Eduardo\",\"(93)2034555\",\"RambladeCataluña,23\",null,\"Barcelona\",null,\"08022\",\"Spain\",1702,60300.00],[\"Boards&ToysCo.\",\"Young\",\"Mary\",\"3105552373\",\"4097DouglasAv.\",null,\"Glendale\",\"CA\",\"92561\",\"USA\",1166,11000.00],[\"NatürlichAutos\",\"Kloss\",\"Horst\",\"0372-555188\",\"Taucherstraße10\",null,\"Cunewalde\",null,\"01307\",\"Germany\",null,0.00],[\"HeintzeCollectables\",\"Ibsen\",\"Palle\",\"86213555\",\"Smagsloget45\",null,\"Århus\",null,\"8200\",\"Denmark\",1401,120800.00],[\"QuébecHomeShoppingNetwork\",\"Fresnière\",\"Jean\",\"(514)555-8054\",\"43rueSt.Laurent\",null,\"Montréal\",\"Québec\",\"H1J1C3\",\"Canada\",1286,48700.00],[\"ANGResellers\",\"Camino\",\"Alejandra\",\"(91)7456555\",\"GranVía,1\",null,\"Madrid\",null,\"28001\",\"Spain\",null,0.00],[\"CollectableMiniDesignsCo.\",\"Thompson\",\"Valarie\",\"7605558146\",\"361FurthCircle\",null,\"SanDiego\",\"CA\",\"91217\",\"USA\",1166,105000.00],[\"giftsbymail.co.uk\",\"Bennett\",\"Helen\",\"(198)555-8888\",\"GardenHouse\",\"CrowtherWay23\",\"Cowes\",\"IsleofWight\",\"PO317PJ\",\"UK\",1501,93900.00],[\"AlphaCognac\",\"Roulet\",\"Annette\",\"61.77.6555\",\"1rueAlsace-Lorraine\",null,\"Toulouse\",null,\"31000\",\"France\",1370,61100.00],[\"MessnerShoppingNetwork\",\"Messner\",\"Renate\",\"069-0555984\",\"Magazinweg7\",null,\"Frankfurt\",null,\"60528\",\"Germany\",null,0.00],[\"AmicaModels&Co.\",\"Accorti\",\"Paolo\",\"011-4988555\",\"ViaMonteBianco34\",null,\"Torino\",null,\"10100\",\"Italy\",1401,113000.00],[\"LyonSouveniers\",\"DaSilva\",\"Daniel\",\"+33146627555\",\"27rueduColonelPierreAvia\",null,\"Paris\",null,\"75508\",\"France\",1337,68100.00],[\"AutoAssociés&Cie.\",\"Tonini\",\"Daniel\",\"30.59.8555\",\"67,avenuedel'Europe\",null,\"Versailles\",null,\"78000\",\"France\",1370,77900.00],[\"TomsSpezialitäten,Ltd\",\"Pfalzheim\",\"Henriette\",\"0221-5554327\",\"Mehrheimerstr.369\",null,\"Köln\",null,\"50739\",\"Germany\",1504,120400.00],[\"RoyalCanadianCollectables,Ltd.\",\"Lincoln\",\"Elizabeth\",\"(604)555-4555\",\"23TsawassenBlvd.\",null,\"Tsawassen\",\"BC\",\"T2F8M4\",\"Canada\",1323,89600.00],[\"FrankenGifts,Co\",\"Franken\",\"Peter\",\"089-0877555\",\"BerlinerPlatz43\",null,\"München\",null,\"80805\",\"Germany\",null,0.00],[\"Anna'sDecorations,Ltd\",\"O'Hara\",\"Anna\",\"0299368555\",\"201MillerStreet\",\"Level15\",\"NorthSydney\",\"NSW\",\"2060\",\"Australia\",1611,107800.00],[\"RovelliGifts\",\"Rovelli\",\"Giovanni\",\"035-640555\",\"ViaLudovicoilMoro22\",null,\"Bergamo\",null,\"24100\",\"Italy\",1401,119600.00],[\"SouveniersAndThingsCo.\",\"Huxley\",\"Adrian\",\"+61294958555\",\"MonitorMoneyBuilding\",\"815PacificHwy\",\"Chatswood\",\"NSW\",\"2067\",\"Australia\",1611,93300.00],[\"Marta'sReplicasCo.\",\"Hernandez\",\"Marta\",\"6175558555\",\"39323SpinnakerDr.\",null,\"Cambridge\",\"MA\",\"51247\",\"USA\",1216,123700.00],[\"BG&ECollectables\",\"Harrison\",\"Ed\",\"+41264255001\",\"RtedesArsenaux41\",null,\"Fribourg\",null,\"1700\",\"Switzerland\",null,0.00],[\"VidaSport,Ltd\",\"Holz\",\"Mihael\",\"0897-034555\",\"Grenzacherweg237\",null,\"Genève\",null,\"1203\",\"Switzerland\",1702,141300.00],[\"NorwayGiftsByMail,Co.\",\"Klaeboe\",\"Jan\",\"+4722121555\",\"Drammensveien126A\",\"PB211Sentrum\",\"Oslo\",null,\"N0106\",\"Norway\",1504,95100.00],[\"SchuylerImports\",\"Schuyler\",\"Bradley\",\"+31204919555\",\"Kingsfordweg151\",null,\"Amsterdam\",null,\"1043GR\",\"Netherlands\",null,0.00],[\"DerHundImports\",\"Andersen\",\"Mel\",\"030-0074555\",\"ObereStr.57\",null,\"Berlin\",null,\"12209\",\"Germany\",null,0.00],[\"OuluToySupplies,Inc.\",\"Koskitalo\",\"Pirkko\",\"981-443655\",\"Torikatu38\",null,\"Oulu\",null,\"90110\",\"Finland\",1501,90500.00],[\"PetitAuto\",\"Dewey\",\"Catherine\",\"(02)555467\",\"RueJoseph-Bens532\",null,\"Bruxelles\",null,\"B-1180\",\"Belgium\",1401,79900.00],[\"MiniClassics\",\"Frick\",\"Steve\",\"9145554562\",\"3758NorthPendaleStreet\",null,\"WhitePlains\",\"NY\",\"24067\",\"USA\",1323,102700.00],[\"MiniCreationsLtd.\",\"Huang\",\"Wing\",\"5085559555\",\"4575HillsideDr.\",null,\"NewBedford\",\"MA\",\"50553\",\"USA\",1188,94500.00],[\"CorporateGiftIdeasCo.\",\"Brown\",\"Julie\",\"6505551386\",\"7734StrongSt.\",null,\"SanFrancisco\",\"CA\",\"94217\",\"USA\",1165,105000.00],[\"DownUnderSouveniers,Inc\",\"Graham\",\"Mike\",\"+6493125555\",\"162-164GraftonRoad\",\"Level2\",\"Auckland\",null,null,\"NewZealand\",1612,88000.00],[\"StylishDeskDecors,Co.\",\"Brown\",\"Ann\",\"(171)555-0297\",\"35KingGeorge\",null,\"London\",null,\"WX36FW\",\"UK\",1501,77000.00],[\"TekniCollectablesInc.\",\"Brown\",\"William\",\"2015559350\",\"7476MossRd.\",null,\"Newark\",\"NJ\",\"94019\",\"USA\",1323,43000.00],[\"AustralianGiftNetwork,Co\",\"Calaghan\",\"Ben\",\"61-7-3844-6555\",\"31DuncanSt.WestEnd\",null,\"SouthBrisbane\",\"Queensland\",\"4101\",\"Australia\",1611,51600.00],[\"SuominenSouveniers\",\"Suominen\",\"Kalle\",\"+35898045555\",\"SoftwareEngineeringCenter\",\"SECOy\",\"Espoo\",null,\"FIN-02271\",\"Finland\",1501,98800.00],[\"CramerSpezialitäten,Ltd\",\"Cramer\",\"Philip\",\"0555-09555\",\"Maubelstr.90\",null,\"Brandenburg\",null,\"14776\",\"Germany\",null,0.00],[\"ClassicGiftIdeas,Inc\",\"Cervantes\",\"Francisca\",\"2155554695\",\"782FirstStreet\",null,\"Philadelphia\",\"PA\",\"71270\",\"USA\",1188,81100.00],[\"CAFImports\",\"Fernandez\",\"Jesus\",\"+34913728555\",\"MerchantsHouse\",\"27-30Merchant'sQuay\",\"Madrid\",null,\"28023\",\"Spain\",1702,59600.00],[\"Men'R'USRetailers,Ltd.\",\"Chandler\",\"Brian\",\"2155554369\",\"6047DouglasAv.\",null,\"LosAngeles\",\"CA\",\"91003\",\"USA\",1166,57700.00],[\"AsianTreasures,Inc.\",\"McKenna\",\"Patricia\",\"2967555\",\"8JohnstownRoad\",null,\"Cork\",\"Co.Cork\",null,\"Ireland\",null,0.00],[\"MarseilleMiniAutos\",\"Lebihan\",\"Laurence\",\"91.24.4555\",\"12,ruedesBouchers\",null,\"Marseille\",null,\"13008\",\"France\",1337,65000.00],[\"ReimsCollectables\",\"Henriot\",\"Paul\",\"26.47.1555\",\"59ruedel'Abbaye\",null,\"Reims\",null,\"51100\",\"France\",1337,81100.00],[\"SARDistributors,Co\",\"Kuger\",\"Armand\",\"+27215503555\",\"1250PretoriusStreet\",null,\"Hatfield\",\"Pretoria\",\"0028\",\"SouthAfrica\",null,0.00],[\"GiftsForHim.com\",\"MacKinlay\",\"Wales\",\"64-9-3763555\",\"199GreatNorthRoad\",null,\"Auckland\",null,null,\"NewZealand\",1612,77700.00],[\"KommissionAuto\",\"Josephs\",\"Karin\",\"0251-555259\",\"Luisenstr.48\",null,\"Münster\",null,\"44087\",\"Germany\",null,0.00],[\"Gifts4AllAges.com\",\"Yoshido\",\"Juri\",\"6175559555\",\"8616SpinnakerDr.\",null,\"Boston\",\"MA\",\"51003\",\"USA\",1216,41900.00],[\"OnlineDiecastCreationsCo.\",\"Young\",\"Dorothy\",\"6035558647\",\"2304LongAirportAvenue\",null,\"Nashua\",\"NH\",\"62005\",\"USA\",1216,114200.00],[\"LisboaSouveniers,Inc\",\"Rodriguez\",\"Lino\",\"(1)354-2555\",\"Jardimdasrosasn.32\",null,\"Lisboa\",null,\"1675\",\"Portugal\",null,0.00],[\"PreciousCollectables\",\"Urs\",\"Braun\",\"0452-076555\",\"Hauptstr.29\",null,\"Bern\",null,\"3012\",\"Switzerland\",1702,0.00],[\"CollectablesForLessInc.\",\"Nelson\",\"Allen\",\"6175558555\",\"7825DouglasAv.\",null,\"Brickhaven\",\"MA\",\"58339\",\"USA\",1188,70700.00],[\"RoyaleBelge\",\"Cartrain\",\"Pascale\",\"(071)23672555\",\"BoulevardTirou,255\",null,\"Charleroi\",null,\"B-6000\",\"Belgium\",1401,23500.00],[\"SalzburgCollectables\",\"Pipps\",\"Georg\",\"6562-9555\",\"Geislweg14\",null,\"Salzburg\",null,\"5020\",\"Austria\",1401,71700.00],[\"Cruz&SonsCo.\",\"Cruz\",\"Arnold\",\"+6325553587\",\"15McCallumStreet\",\"NatWestCenter#13-03\",\"MakatiCity\",null,\"1227MM\",\"Philippines\",1621,81500.00],[\"L'ordineSouveniers\",\"Moroni\",\"Maurizio\",\"0522-556555\",\"StradaProvinciale124\",null,\"ReggioEmilia\",null,\"42100\",\"Italy\",1401,121400.00],[\"TokyoCollectables,Ltd\",\"Shimamura\",\"Akiko\",\"+81335840555\",\"2-2-8Roppongi\",null,\"Minato-ku\",\"Tokyo\",\"106-0032\",\"Japan\",1621,94400.00],[\"AutoCanal+Petit\",\"Perrier\",\"Dominique\",\"(1)47.55.6555\",\"25,rueLauriston\",null,\"Paris\",null,\"75016\",\"France\",1337,95000.00],[\"StuttgartCollectableExchange\",\"Müller\",\"Rita\",\"0711-555361\",\"Adenauerallee900\",null,\"Stuttgart\",null,\"70563\",\"Germany\",null,0.00],[\"ExtremeDeskDecorations,Ltd\",\"McRoy\",\"Sarah\",\"044999555\",\"101LambtonQuay\",\"Level11\",\"Wellington\",null,null,\"NewZealand\",1612,86800.00],[\"BavarianCollectablesImports,Co.\",\"Donnermeyer\",\"Michael\",\"+498961089555\",\"Hansastr.15\",null,\"Munich\",null,\"80686\",\"Germany\",1504,77000.00],[\"ClassicLegendsInc.\",\"Hernandez\",\"Maria\",\"2125558493\",\"5905PomptonSt.\",\"Suite750\",\"NYC\",\"NY\",\"10022\",\"USA\",1286,67500.00],[\"FeuerOnlineStores,Inc\",\"Feuer\",\"Alexander\",\"0342-555176\",\"Heerstr.22\",null,\"Leipzig\",null,\"04179\",\"Germany\",null,0.00],[\"GiftIdeasCorp.\",\"Lewis\",\"Dan\",\"2035554407\",\"2440PomptonSt.\",null,\"Glendale\",\"CT\",\"97561\",\"USA\",1323,49700.00],[\"ScandinavianGiftIdeas\",\"Larsson\",\"Martha\",\"0695-346555\",\"Åkergatan24\",null,\"Bräcke\",null,\"S-84467\",\"Sweden\",1504,116400.00],[\"TheSharpGiftsWarehouse\",\"Frick\",\"Sue\",\"4085553659\",\"3086IngleLn.\",null,\"SanJose\",\"CA\",\"94217\",\"USA\",1165,77600.00],[\"MiniAutoWerke\",\"Mendel\",\"Roland\",\"7675-3555\",\"Kirchgasse6\",null,\"Graz\",null,\"8010\",\"Austria\",1401,45300.00],[\"SuperScaleInc.\",\"Murphy\",\"Leslie\",\"2035559545\",\"567NorthPendaleStreet\",null,\"NewHaven\",\"CT\",\"97823\",\"USA\",1286,95400.00],[\"MicroscaleInc.\",\"Choi\",\"Yu\",\"2125551957\",\"5290NorthPendaleStreet\",\"Suite200\",\"NYC\",\"NY\",\"10022\",\"USA\",1286,39800.00],[\"CorridaAutoReplicas,Ltd\",\"Sommer\",\"Martín\",\"(91)5552282\",\"C/Araquil,67\",null,\"Madrid\",null,\"28023\",\"Spain\",1702,104600.00],[\"WarburgExchange\",\"Ottlieb\",\"Sven\",\"0241-039123\",\"Walserweg21\",null,\"Aachen\",null,\"52066\",\"Germany\",null,0.00],[\"FunGiftIdeas.com\",\"Benitez\",\"Violeta\",\"5085552555\",\"1785FirstStreet\",null,\"NewBedford\",\"MA\",\"50553\",\"USA\",1216,85800.00],[\"AntonDesigns,Ltd.\",\"Anton\",\"Carmen\",\"+34913728555\",\"c/Gobelas,19-1Urb.LaFlorida\",null,\"Madrid\",null,\"28023\",\"Spain\",null,0.00],[\"AustralianCollectables,Ltd\",\"Clenahan\",\"Sean\",\"61-9-3844-6555\",\"7AllenStreet\",null,\"GlenWaverly\",\"Victoria\",\"3150\",\"Australia\",1611,60300.00],[\"FraudaCollezione\",\"Ricotti\",\"Franco\",\"+39022515555\",\"20093ColognoMonzese\",\"AlessandroVolta16\",\"Milan\",null,null,\"Italy\",1401,34800.00],[\"WestCoastCollectablesCo.\",\"Thompson\",\"Steve\",\"3105553722\",\"3675FurthCircle\",null,\"Burbank\",\"CA\",\"94019\",\"USA\",1166,55400.00],[\"MitVergnügen&Co.\",\"Moos\",\"Hanna\",\"0621-08555\",\"Forsterstr.57\",null,\"Mannheim\",null,\"68306\",\"Germany\",null,0.00],[\"KremlinCollectables,Co.\",\"Semenov\",\"Alexander\",\"+78122930521\",\"2PobedySquare\",null,\"SaintPetersburg\",null,\"196143\",\"Russia\",null,0.00],[\"RaananStores,Inc\",\"Altagar,GM\",\"Raanan\",\"+97299598555\",\"3HagalimBlv.\",null,\"Herzlia\",null,\"47625\",\"Israel\",null,0.00],[\"IberiaGiftImports,Corp.\",\"Roel\",\"JoséPedro\",\"(95)5558282\",\"C/Romero,33\",null,\"Sevilla\",null,\"41101\",\"Spain\",1702,65700.00],[\"MotorMintDistributorsInc.\",\"Salazar\",\"Rosa\",\"2155559857\",\"11328DouglasAv.\",null,\"Philadelphia\",\"PA\",\"71270\",\"USA\",1323,72600.00],[\"SignalCollectiblesLtd.\",\"Taylor\",\"Sue\",\"4155554312\",\"2793FurthCircle\",null,\"Brisbane\",\"CA\",\"94217\",\"USA\",1165,60300.00],[\"DoubleDeckerGiftStores,Ltd\",\"Smith\",\"Thomas\",\"(171)555-7555\",\"120HanoverSq.\",null,\"London\",null,\"WA11DP\",\"UK\",1501,43300.00],[\"DiecastCollectables\",\"Franco\",\"Valarie\",\"6175552555\",\"6251IngleLn.\",null,\"Boston\",\"MA\",\"51003\",\"USA\",1188,85100.00],[\"Kelly'sGiftShop\",\"Snowden\",\"Tony\",\"+6495555500\",\"Arenales19383'A'\",null,\"Auckland\",null,null,\"NewZealand\",1612,110000.00]]";

    const object_2 =
        {
            "product": "Live JSON generator",
            "version": 3.1,
            "releaseDate": "2014-06-25T00:00:00.000Z",
            "demo": true,
            "person": {
                "id": 12345,
                "name": "John Doe",
                "phones": {
                    "home": "800-123-4567",
                    "mobile": "877-123-1234"
                },
                "email": [
                    "jd@example.com",
                    "jd@example.org"
                ],
                "dateOfBirth": "1980-01-02T00:00:00.000Z",
                "registered": true
            }
        };

    it('should create directory', function () {
        expect(helpers.helperDirectory('directory1')).toEqual(expect.stringContaining('directory1'));
        expect(helpers.helperDirectory('directory2')).toEqual(expect.stringContaining('directory2'));
        expect(helpers.helperDirectory('directory1', true)).toEqual(expect.stringContaining('directory1'));
        expect(helpers.helperDirectory('directory2', true)).toEqual(expect.stringContaining('directory2'));
    });

    it('should convert parameter to valid object and some cases throw error ', function () {
        expect(typeof helpers.convertToObject(json_1)).toBe('object');
        expect(typeof helpers.convertToObject(json_2)).toBe('object');
        expect(typeof helpers.convertToObject(json_3)).toBe('object');
        expect(typeof helpers.convertToObject(json_4)).toBe('object');
        expect(typeof helpers.convertToObject(json_5)).toBe('object');
        expect(typeof helpers.convertToObject(json_6)).toBe('object');
        expect(typeof helpers.convertToObject(json_11)).toBe('object');
        expect(typeof helpers.convertToObject(json_12)).toBe('object');
        expect(()=>helpers.convertToObject(json_7)).toThrow(Error);
        expect(()=>helpers.convertToObject(json_8)).toThrow(Error);
        expect(()=>helpers.convertToObject(json_9)).toThrow(Error);
        expect(()=>helpers.convertToObject(json_10)).toThrow(Error);
    });

    it('should convert data to utf8', function () {
        expect(typeof helpers.convertToUtf8(json_1)).toBe('string');
        expect(typeof helpers.convertToUtf8(json_2)).toBe('string');
        expect(typeof helpers.convertToUtf8(json_3)).toBe('string');
        expect(typeof helpers.convertToUtf8(json_4)).toBe('string');
        expect(typeof helpers.convertToUtf8(json_5)).toBe('string');
        expect(typeof helpers.convertToUtf8(json_6)).toBe('string');
        expect(typeof helpers.convertToUtf8(json_11)).toBe('string');
        expect(typeof helpers.convertToUtf8(json_12)).toBe('string');
        expect(()=>helpers.convertToUtf8(json_7)).toThrow(Error);
        expect(()=>helpers.convertToUtf8(json_8)).toThrow(Error);
        expect(()=>helpers.convertToUtf8(json_9)).toThrow(Error);
        expect(()=>helpers.convertToUtf8(json_10)).toThrow(Error);
    });

    it('should save file another directory and remove file', async function () {
        const data = {
            file: "img.png",
            content: fs.readFileSync(path.join(__dirname, 'img.png'))
        };
        const upload_path = helpers.saveFile(data);
        expect(upload_path).toEqual(expect.stringContaining('img.png'));
        await expect(helpers.deleteFile(upload_path)).resolves.toBeTruthy();
    });

    it('should valid properties required and optional', async function () {
        let temp = {elementDelimiter: '-', endOfLine: '/'};
        expect(helpers.validProperties(required, temp, {})).toBeTruthy();
        expect(helpers.validProperties(optional, temp, {}, true)).toBeTruthy();
        temp.endOfLine = '';
        //without values in some keys of the object
         expect(()=>helpers.validProperties(required, temp, {})).toThrow(Error);
    });

    it('should valid if param is object', function () {
        expect(helpers.isObject({})).toBeTruthy();
        expect(helpers.isObject(array_empty)).toBeTruthy();
        expect(helpers.isObject("")).toBeFalsy();
        expect(helpers.isObject(data_array[0])).toBeFalsy();
        expect(helpers.isObject(stringJson)).toBeTruthy();
        expect(helpers.isObject(object)).toBeTruthy();
        expect(helpers.isObject(object_2)).toBeTruthy();
        expect(helpers.isObject(json_1)).toBeTruthy();
        expect(helpers.isObject(json_2)).toBeTruthy();
        expect(helpers.isObject(json_3)).toBeTruthy();
        expect(helpers.isObject(json_4)).toBeTruthy();
        expect(helpers.isObject(json_5)).toBeTruthy();
        expect(helpers.isObject(json_6)).toBeTruthy();
        expect(helpers.isObject(json_11)).toBeTruthy();
        expect(helpers.isObject(json_12)).toBeTruthy();
        expect(helpers.isObject(array)).toBeTruthy();
        expect(helpers.isObject(array_base)).toBeTruthy();
        expect(helpers.isObject(data_array)).toBeTruthy();
        //bad encodings
        expect(helpers.isObject(json_7)).toBeFalsy();
        expect(helpers.isObject(json_8)).toBeFalsy();
        expect(helpers.isObject(json_9)).toBeFalsy();
        expect(helpers.isObject(json_10)).toBeFalsy();
    });

    it('should valid if param is object valid', function () {
        expect(helpers.isObjectValid({})).toBeFalsy();
        expect(helpers.isObjectValid(array_empty)).toBeTruthy();
        expect(helpers.isObjectValid({data: true})).toBeTruthy();
        expect(helpers.isObjectValid(object)).toBeFalsy();
        expect(helpers.isObjectValid(data_array[0])).toBeFalsy();
        expect(helpers.isObjectValid(stringJson)).toBeTruthy();
        expect(helpers.isObjectValid(object_2)).toBeTruthy();
        expect(helpers.isObjectValid(json_1)).toBeTruthy();
        expect(helpers.isObjectValid(json_2)).toBeTruthy();
        expect(helpers.isObjectValid(json_3)).toBeTruthy();
        expect(helpers.isObjectValid(json_4)).toBeTruthy();
        expect(helpers.isObjectValid(json_5)).toBeTruthy();
        expect(helpers.isObjectValid(json_6)).toBeTruthy();
        expect(helpers.isObjectValid(json_11)).toBeTruthy();
        expect(helpers.isObjectValid(json_12)).toBeTruthy();
        expect(helpers.isObjectValid(array_base)).toBeTruthy();
        expect(helpers.isObjectValid(data_array)).toBeTruthy();
        //bad encodings
        expect(helpers.isObjectValid(json_7)).toBeFalsy();
        expect(helpers.isObjectValid(json_8)).toBeFalsy();
        expect(helpers.isObjectValid(json_9)).toBeFalsy();
        expect(helpers.isObjectValid(json_10)).toBeFalsy();
    });

    it('should getRandomNum', function () {
        expect(helpers.randomNum()).toHaveLength(8);
    });

    it('should create env time zone and remove it', function () {
        expect(helpers.setTimeZone('US')).toBe(undefined);
        //console.log(process.env);
        expect(helpers.removeCustomTimeZone()).toBe(undefined);
        //console.log(process.env);
    });

    it('should validate base64 encoding and some case throw error with invalid encodings', function () {
        expect(helpers.validateBase64({})).toBeFalsy();
        expect(helpers.validateBase64({data: true})).toBeFalsy();
        expect(helpers.validateBase64(object)).toBeFalsy();
        expect(helpers.validateBase64(object_2)).toBeFalsy();
        expect(helpers.validateBase64(json_1)).toBeFalsy();
        expect(helpers.validateBase64(json_2)).toBeFalsy();
        expect(helpers.validateBase64(json_3)).toBeTruthy();
        expect(helpers.validateBase64(json_4)).toBeTruthy();
        expect(helpers.validateBase64(json_5)).toBeFalsy();
        expect(helpers.validateBase64(json_6)).toBeFalsy();
        expect(helpers.validateBase64(json_11)).toBeFalsy();
        expect(helpers.validateBase64(json_12)).toBeFalsy();
        //bad encodings
        expect(()=>helpers.validateBase64(json_7)).toThrow(Error);
        expect(()=>helpers.validateBase64(json_8)).toThrow(Error);
        expect(()=>helpers.validateBase64(json_9)).toThrow(Error);
        expect(()=>helpers.validateBase64(json_10)).toThrow(Error);
    });

    it('should validate hex regex valid and invalid', function () {
        expect(helpers.validateHex(json_7)).toBeTruthy();
        expect(helpers.validateHex(json_8)).toBeFalsy();
    });

    it('should validate xml structure, xml correct format, base 64', function () {
        const data = fs.readFileSync(path.join(__dirname, 'sat.xml'), 'base64');
        const result = helpers.validateXMLStructure(data);
        expect(result).toBeTruthy();
    });

    it('should validate xml structure, xml correct format, base 64url', function () {
        const data = fs.readFileSync(path.join(__dirname, 'sat.xml'), 'base64url');
        const result = helpers.validateXMLStructure(data);
        expect(result).toBeTruthy();
    });

    it('should validate xml structure, xml correct format, raw content', function () {
        const data = fs.readFileSync(path.join(__dirname, 'sat.xml'));
        const result = helpers.validateXMLStructure(data);
        expect(result).toBeTruthy();
    });

    it('should validate xml structure, bad xml format, to be falsy', async function () {
        const data = fs.readFileSync(path.join(__dirname, 'error.xml'));
        const result = helpers.validateXMLStructure(data);
        expect(result).toBeFalsy();
    });

});
